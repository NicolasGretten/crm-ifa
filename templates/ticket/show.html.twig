{% extends 'base.html.twig' %}

{% block title %}Ticket{% endblock %}

{% block body %}
    <a href="{{ path('ticket_index') }}">
        <button class="btn btn-ghost-primary mb-3"><< Back to list</button>
    </a>
    <div class="alert alert-primary m-auto col-8" role="alert">
        <div class="row justify-content-center">
            <div class="col-4">
                <a href="{{ path('ticket_edit', {'id': ticket.id}) }}">
                    <button type="button" class="btn btn-ghost-primary btn-block btn-lg"><i class="cil-pencil"></i>
                    </button>
                </a>
            </div>
            <div class="col-4">
                {{ include('ticket/_delete_form.html.twig') }}
            </div>
        </div>
    </div>
    <div class="container mt-5">
        <div class="col-8 m-auto border p-3 shadow-lg p-3 mb-5 bg-white rounded">
            <h1>Ticket</h1>

            <table class="table">
                <tbody>
                    <tr>
                        <th>Id</th>
                        <td>{{ ticket.id }}</td>
                    </tr>
                    <tr>
                        <th>Content</th>
                        <td>{{ ticket.content }}</td>
                    </tr>
                    <tr>
                        <th>Created_at</th>
                        <td>{{ ticket.createdAt ? ticket.createdAt|date('Y-m-d H:i:s') : '' }}</td>
                    </tr>
                    <tr>
                        <th>Updated_at</th>
                        <td>{{ ticket.updatedAt ? ticket.updatedAt|date('Y-m-d H:i:s') : '' }}</td>
                    </tr>
                </tbody>
            </table>
            <hr class="bg-primary">

            <h1 class="mb-3">Demand's ticket</h1>
            {% if demand == false %}
                <tr>
                    <td colspan="5">no demand associate</td>
                </tr>
            {% else %}
            <table class="table">
                <tbody>
                <tr>
                    <th>Id</th>
                    <td>{{ demand.id }}</td>
                </tr>
                <tr>
                    <th>Content</th>
                    <td>{{ demand.content }}</td>
                </tr>
                <tr>
                    <th>Status</th>
                    <td>{{ demand.status }}</td>
                </tr>
                <tr>
                    <th>Views</th>
                    <td>{{ demand.views ? 'Yes' : 'No' }}</td>
                </tr>
                <tr>
                    <th>Created_at</th>
                    <td>{{ demand.createdAt ? demand.createdAt|date('Y-m-d H:i:s') : '' }}</td>
                </tr>
                <tr>
                    <th>Updated_at</th>
                    <td>{{ demand.updatedAt ? demand.updatedAt|date('Y-m-d H:i:s') : '' }}</td>
                </tr>
                </tbody>
            </table>
            {% endif %}
        </div>
    </div>
{% endblock %}
